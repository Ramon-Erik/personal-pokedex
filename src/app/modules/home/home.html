<header>
  <div class="title">
    <h1>
      <img
        ngSrc="titles-poke-font/pokedex.png"
        priority
        alt="pokedéx"
        width="200"
        height="72"
        title="Pokédex"
      />
    </h1>
  </div>
</header>
<main>
  <div class="search-pokemon">
    <form>
      <label for="pokemonId">
        <input
          type="text"
          name="pokemonId"
          #pokeId
          [ngModel]="filters().name"
          (ngModelChange)="updateFilters({ name: $event})"
          id="pokemonId"
          autocomplete="off"
          placeholder="Digite um nome ou id de pokemon"
        />
        <button type="button" id="searchBtn" (click)="clearFilters()">
          <img src="icons/cancel.png" alt="limpar filtros" width="20" height="20" />
        </button>
      </label>

      <div class="hidden-filters">
        @if (!hideTypes()) {
        <p class="hide-button" (click)="hideTypes.set(true)">Esconder</p>
        <div class="selects">
          <label for="pokemonType">
            Tipo
            <select
              name="pokemonType"
              id="pokemonType"
              [ngModel]="filters().type"
              (ngModelChange)="updateFilters({ type: $event })"
            >
              <option>Todos</option>
              @for (type of pokemonTypes; track $index) {
              <option>{{ type }}</option>
              }
            </select>
          </label>
        </div>
        } @else {
          <p class="hide-button" (click)="hideTypes.set(false)">Filtrar por tipos</p>
        }
      </div>
    </form>
  </div>
  @defer (on timer(500ms)) {
    <app-pokemon-list [selectedFilters]="filters()" />
  } @placeholder {
    <div class="loading">
      <img src="icons/loading.gif" alt="loading gif" width="50" height="50">
      <p>Carregando...</p>
    </div>
  }
</main>
